{"version":3,"sources":["app.js"],"names":["page","turn","name","date","time","services","startApp","showServices","showSection","switchSection","nextPage","backPage","buttonsPage","showResume","backSection","document","querySelector","classList","remove","add","backTab","querySelectorAll","forEach","link","addEventListener","e","preventDefault","parseInt","target","dataset","step","async","result","fetch","db","json","service","id","price","serviceName","createElement","textContent","servicePrice","serviceDiv","idService","onclick","selectService","appendChild","error","console","log","element","tagName","parentElement","contains","resumeDiv","Object","values","includes","noServices"],"mappings":"AAAA,IAAAA,KAAA,EAEA,MAAAC,KAAA,CACAC,KAAA,GACAC,KAAA,GACAC,KAAA,GACAC,SAAA,IAOA,SAAAC,WACAC,eAGAC,cAGAC,gBAGAC,WACAC,WAGAC,cAGAC,aAGA,SAAAL,cAEA,MAAAM,EAAAC,SAAAC,cAAA,iBACAF,GACAA,EAAAG,UAAAC,OAAA,gBAGAH,SAAAC,cAAA,SAAAhB,MACAiB,UAAAE,IAAA,gBAGA,MAAAC,EAAAL,SAAAC,cAAA,iBACAI,GACAA,EAAAH,UAAAC,OAAA,UAIAH,SAAAC,cAAA,eAAAhB,UACAiB,UAAAE,IAAA,UAIA,SAAAV,gBACAM,SAAAM,iBAAA,gBACAC,QAAAC,IACAA,EAAAC,iBAAA,QAAAC,IACAA,EAAAC,iBACA1B,KAAA2B,SAAAF,EAAAG,OAAAC,QAAAC,MAGAtB,cACAI,kBAKAmB,eAAAxB,eAEA,IACA,MAAAyB,QAAAC,MAAA,mBACAC,QAAAF,EAAAG,QACA9B,SAAAA,GAAA6B,EAGA7B,EAAAiB,QAAAc,IACA,MAAAC,GAAAA,EAAAnC,KAAAA,EAAAoC,MAAAA,GAAAF,EAIAG,EAAAxB,SAAAyB,cAAA,KACAD,EAAAE,YAAAvC,EACAqC,EAAAtB,UAAAE,IAAA,gBAGA,MAAAuB,EAAA3B,SAAAyB,cAAA,KACAE,EAAAD,YAAA,IAAAH,EACAI,EAAAzB,UAAAE,IAAA,iBAGA,MAAAwB,EAAA5B,SAAAyB,cAAA,OACAG,EAAA1B,UAAAE,IAAA,WACAwB,EAAAd,QAAAe,UAAAP,EAGAM,EAAAE,QAAAC,cAGAH,EAAAI,YAAAR,GACAI,EAAAI,YAAAL,GAGA3B,SAAAC,cAAA,aAAA+B,YAAAJ,KAEA,MAAAK,GACAC,QAAAC,IAAAF,IAIA,SAAAF,cAAArB,GACA,IAAA0B,EAGAA,EADA,MAAA1B,EAAAG,OAAAwB,QACA3B,EAAAG,OAAAyB,cAEA5B,EAAAG,OAGAuB,EAAAlC,UAAAqC,SAAA,YACAH,EAAAlC,UAAAC,OAAA,YAEAiC,EAAAlC,UAAAE,IAAA,YAIA,SAAAT,WACAK,SAAAC,cAAA,SACAQ,iBAAA,QAAA,KACAxB,OACAY,gBAIA,SAAAD,WACAI,SAAAC,cAAA,SACAQ,iBAAA,QAAA,KACAxB,OACAY,gBAIA,SAAAA,cACA,MAAAF,EAAAK,SAAAC,cAAA,SACAL,EAAAI,SAAAC,cAAA,SAEA,IAAAhB,MACAW,EAAAM,UAAAE,IAAA,QACAT,EAAAO,UAAAC,OAAA,SACA,IAAAlB,MACAU,EAAAO,UAAAE,IAAA,QACAR,EAAAM,UAAAC,OAAA,UAEAP,EAAAM,UAAAC,OAAA,QACAR,EAAAO,UAAAC,OAAA,SAGAV,cAGA,SAAAK,aAEA,MAAAX,KAAAA,EAAAC,KAAAA,EAAAC,KAAAA,EAAAC,SAAAA,GAAAJ,KAEAsD,EAAAxC,SAAAC,cAAA,gBAGA,GAAAwC,OAAAC,OAAAxD,MAAAyD,SAAA,IAAA,CACA,MAAAC,EAAA5C,SAAAyB,cAAA,KACAmB,EAAAlB,YAAA,sBACAkB,EAAA1C,UAAAE,IAAA,eAGAoC,EAAAR,YAAAY,IArKA5C,SAAAS,iBAAA,oBAAA,WACAlB","file":"bundle.js","sourcesContent":["let page = 1;\r\n\r\nconst turn = {\r\n    name: '',\r\n    date: '',\r\n    time: '',\r\n    services: []\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n    startApp();\r\n});\r\n\r\nfunction startApp() {\r\n    showServices();\r\n\r\n    //resalta el div actual segun el tab que se presiona\r\n    showSection();\r\n\r\n    //Oculta o muestra la seccion segund el tab que se presiona\r\n    switchSection();\r\n\r\n    //Paginacion siguiente y anterior\r\n    nextPage();\r\n    backPage();\r\n\r\n    //Comprobar la pagina actual para ocultar o mostrar la paginacion\r\n    buttonsPage();\r\n\r\n    //Muestra el resumen de la cita (O mensaje de error en caso de no pasar la validacion)\r\n    showResume();\r\n}\r\n\r\nfunction showSection() {\r\n    //Eliminar la clase actual en el tab anterior\r\n    const backSection = document.querySelector('.show-section');\r\n    if(backSection) {\r\n        backSection.classList.remove('show-section');\r\n    }\r\n\r\n    const actualSection = document.querySelector(`#step-${page}`);\r\n    actualSection.classList.add('show-section');\r\n\r\n    //Eliminar mostrar-seccion de la seccion anteior\r\n    const backTab = document.querySelector('.tabs .actual');\r\n    if(backTab) {\r\n        backTab.classList.remove('actual');\r\n    }\r\n\r\n    //Resaltar el tab actual\r\n    const tab = document.querySelector(`[data-step=\"${page}\"]`);\r\n    tab.classList.add('actual');\r\n\r\n}\r\n\r\nfunction switchSection() {\r\n    const links = document.querySelectorAll('.tabs button');\r\n    links.forEach(link => {\r\n        link.addEventListener('click', e => {\r\n            e.preventDefault();\r\n            page = parseInt(e.target.dataset.step);\r\n\r\n            //Llamar la funcion para mostrar la seccion\r\n            showSection();\r\n            buttonsPage();\r\n        })\r\n    })\r\n}\r\n\r\nasync function showServices() {\r\n    //Una consulta es un buen lugar para usar un bloque try/catch.\r\n    try {\r\n        const result = await fetch('./services.json');\r\n        const db = await result.json();\r\n        const { services } = db;\r\n\r\n        //Generar HTML\r\n        services.forEach(service => {\r\n            const { id, name, price } = service;\r\n\r\n            //DOM Scripting\r\n            //Genero los nombres de los servicios\r\n            const serviceName = document.createElement('P');\r\n            serviceName.textContent = name;\r\n            serviceName.classList.add('service-name');\r\n\r\n            //Genero el precio de los servicios\r\n            const servicePrice = document.createElement('P');\r\n            servicePrice.textContent = `$${price}`;\r\n            servicePrice.classList.add('service-price');\r\n\r\n            //Generar Div contenedor de servicios\r\n            const serviceDiv = document.createElement('DIV');\r\n            serviceDiv.classList.add('service');\r\n            serviceDiv.dataset.idService = id;\r\n\r\n            //Seleccion un servicio\r\n            serviceDiv.onclick = selectService;\r\n\r\n            //Inyectar precio y nombre al div de servicio\r\n            serviceDiv.appendChild(serviceName);\r\n            serviceDiv.appendChild(servicePrice);\r\n\r\n            //Inyectarlo en HTML\r\n            document.querySelector('#services').appendChild(serviceDiv);\r\n        });\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n\r\nfunction selectService(e) {\r\n    let element;\r\n    //Forzar que elemento al cual le damos click sea el div\r\n    if (e.target.tagName === 'P') {\r\n        element = e.target.parentElement;\r\n    } else {\r\n        element = e.target;\r\n    }\r\n\r\n    if (element.classList.contains('selected')) {\r\n        element.classList.remove('selected');\r\n    } else {\r\n        element.classList.add('selected');\r\n    }\r\n}\r\n\r\nfunction nextPage() {\r\n    const nextPage = document.querySelector('#next');\r\n    nextPage.addEventListener('click', () => {\r\n        page++;\r\n        buttonsPage();\r\n    });\r\n}\r\n\r\nfunction backPage() {\r\n    const backPage = document.querySelector('#back');\r\n    backPage.addEventListener('click', () => {\r\n        page--;\r\n        buttonsPage();\r\n    });\r\n}\r\n\r\nfunction buttonsPage() {\r\n    const nextPage = document.querySelector('#next');\r\n    const backPage = document.querySelector('#back');\r\n\r\n    if (page === 1) {\r\n        backPage.classList.add('hide');\r\n        nextPage.classList.remove('hide');\r\n    } else if (page === 3) {\r\n        nextPage.classList.add('hide');\r\n        backPage.classList.remove('hide');\r\n    } else {\r\n        backPage.classList.remove('hide');\r\n        nextPage.classList.remove('hide');\r\n    }\r\n\r\n    showSection(); //Cambia la seccion que se muestra\r\n}\r\n\r\nfunction showResume() {\r\n    //Destructuring\r\n    const {name, date, time, services} = turn;\r\n    //Seleccionar el resumen\r\n    const resumeDiv = document.querySelector('.main-resume')\r\n\r\n    //Validacion del Objeto \r\n    if(Object.values(turn).includes('')) {\r\n        const noServices = document.createElement('P');\r\n        noServices.textContent = 'Complete Formulary!';\r\n        noServices.classList.add('cancel-date');\r\n\r\n        //Agregar a resumen Div\r\n        resumeDiv.appendChild(noServices);\r\n\r\n    }\r\n}\r\n\r\n\r\n"]}